# 日本語音声認識Webアプリケーション

Web Speech APIとkuromoji.jsを使用した、リアルタイム音声認識・ひらがな変換・音声合成機能を搭載した包括的なWebアプリケーションです。

## 主要機能

- **リアルタイム音声認識**: Web Speech APIによる連続音声認識（日本語対応）
- **ひらがな変換**: kuromoji.jsの形態素解析による自動ひらがな変換
- **音声合成**: 認識テキストからの音声読み上げ機能
- **デバッグシステム**: 包括的なログ・監視機能
- **タブ管理**: 履歴とセッション管理
- **ライブ文字起こし**: リアルタイム表示対応

## アーキテクチャ

- **クラスベース設計**: 関心の分離による保守性向上
- **専門モジュール**: 機能別の独立したモジュール構成
- **kuromoji.js完全統合**: 形態素解析による高精度ひらがな変換
- **包括的デバッグシステム**: vibeloggerとリアルタイムUI監視


## ファイル構成

```
/
├── index.html                    # メインHTML（モジュラー版）
├── css/style.css                 # 統一スタイルシート
├── js/
│   ├── main.js                   # メインアプリケーションクラス
│   ├── speechRecognition.js      # 音声認識管理
│   ├── kuromojiManager.js        # 形態素解析管理
│   ├── textToSpeech.js          # 音声合成管理
│   ├── uiManager.js             # UI状態管理
│   ├── tabManager.js            # タブ・履歴管理
│   ├── domElements.js           # DOM要素管理
│   ├── debugLogger.js           # デバッグログ機能
│   ├── vibeLogger.js            # AI用構造化ログ
│   ├── debugUI.js               # リアルタイムデバッグUI
│   └── kuromoji.js              # kurmojiライブラリ（ローカル）
├── dict/                        # kuromoji辞書ファイル
└── logs/                        # デバッグログ出力
```

## 開発・使用方法

### ローカル開発
```bash
# ローカル開発サーバーを開始
npm run serve

# アクセス
http://localhost:8000/
```

### 開発ワークフロー
1. **機能設計**: モジュール単位での機能設計
2. **実装**: 対応するクラス・モジュールでの実装
3. **デバッグ**: vibeloggerとデバッグUIでの動作確認
4. **統合テスト**: 全体フローでの動作検証

## ブラウザ要件

- **推奨ブラウザ**: Chrome/Chromiumベース（Web Speech API最適化）
- **マイクアクセス**: 音声認識機能に必須
- **HTTPS**: 本番環境でのマイクアクセスに必要
- **言語設定**: 日本語（`ja-JP`）音声認識

## デバッグ・ログシステム

### vibelogger統合
- **構造化ログ**: AIコードエージェント用の高度なログ機能
- **出力形式**: JSON/CSV/TXT形式で `./logs/` ディレクトリに出力
- **リアルタイム監視**: デバッグUIでのライブモニタリング

### ログレベル
- **ERROR/WARN/INFO/DEBUG/TRACE**: 5段階のログレベル
- **開発時**: DEBUGレベル推奨
- **本番前**: INFOレベルに設定

## 技術仕様

### 依存関係
- kuromoji ^0.1.2（形態素解析）
- vibelogger ^0.1.0（構造化ログ）
- Web Speech API（音声認識）
- Speech Synthesis API（音声合成）

### パフォーマンス
- kuromoji初期化: 約30秒（進捗表示付き）
- リアルタイム音声認識: 低遅延処理
- デバッグログ: 最小限のパフォーマンス影響

## 処理フロー
![6656565-1](https://github.com/user-attachments/assets/49fac104-e658-44c6-a52c-0db5e0cc4c47)

## デプロイメント

**本番デプロイ:**
- Git → GitHub Actions → さくらサーバー（自動デプロイ）
- **重要**: WinSCPでの直接アップロードは禁止
- GitHubリポジトリ経由での自動デプロイを必須とする

## 開発者向け情報

### 推奨事項
- デバッグ時は必ずvibeloggerを使用
- パフォーマンス監視（特にkuromoji初期化時）
- 開発中はデバッグUIを有効化
- モジュール単位での機能分割を維持
